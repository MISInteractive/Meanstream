<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=301880
  -->
<configuration>
  <configSections>
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    -->
    
    <sectionGroup name="meanstream">
      <section name="searchData" requirePermission="false" type="Meanstream.Portal.Core.Providers.ConfigurationHandler, Meanstream.Portal" />
      <section name="searchIndex" requirePermission="false" type="Meanstream.Portal.Core.Providers.ConfigurationHandler, Meanstream.Portal" />
      <section name="scheduling" requirePermission="false" type="Meanstream.Portal.Core.Providers.ConfigurationHandler, Meanstream.Portal" />
      <section name="data" requirePermission="false" type="Meanstream.Portal.Core.Providers.ConfigurationHandler, Meanstream.Portal" />
      <section name="repository" requirePermission="false" type="Meanstream.Portal.Core.Providers.ConfigurationHandler, Meanstream.Portal" />
    </sectionGroup>
    <section name="portalException" type="Meanstream.Portal.Core.ExceptionHandling.PortalExceptionSection, Meanstream.Portal" />
    <section name="meanstreamCoreService" type="Meanstream.Portal.Core.Data.Bases.NetTiersServiceSection, Meanstream.Portal.Core.Data" />
    <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data" />
  </configSections>

  <meanstream>
    <searchData defaultProvider="PortalSearchDataProvider">
      <providers>
        <clear />
        <add name="PortalSearchDataProvider" type="Meanstream.Portal.Providers.LuceneDataStore.SearchDataStore, Meanstream.Portal" directory="~/portals/0/index" maxFieldLength="25000" />
      </providers>
    </searchData>
    <searchIndex defaultProvider="PortalSearchIndexProvider">
      <providers>
        <clear />
        <add name="PortalSearchIndexProvider" type="Meanstream.Portal.Providers.PortalIndexer.SearchIndexProvider, Meanstream.Portal" />
      </providers>
    </searchIndex>
    <scheduling defaultProvider="PortalSchedulingProvider">
      <providers>
        <clear />
        <add name="PortalSchedulingProvider" type="Meanstream.Portal.Providers.PortalScheduler.SchedulingProvider, Meanstream.Portal" enabled="true" />
      </providers>
    </scheduling>
    <data defaultProvider="SqlServerDataProvider">
      <providers>
        <clear />
        <add name="SqlServerDataProvider" type="Meanstream.Core.Providers.SqlServerDataProvider.Provider, Meanstream.Portal" />
      </providers>
    </data>
    <repository defaultProvider="RepositoryProvider">
      <providers>
        <clear />
        <add name="RepositoryProvider" type="Meanstream.Core.Providers.RepositoryProvider.Provider, Meanstream.Portal" />
      </providers>
    </repository>
  </meanstream>
  
  <connectionStrings>
    <add name="Meanstream" connectionString="data source=AMAZONA-9747RHK;initial catalog=somersetbayhomeportal;persist security info=False;user id=sa;password=7emc21984z;packet size=4096" providerName="System.Data.SqlClient" />
  </connectionStrings> <!---54.227.253.243 AMAZONA-9747RHK-->
  <appSettings>
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />

    <add key="enableSimpleMembership" value="false" />

    <add key="Meanstream.Version" value="4.1" />
    <add key="Meanstream.SingleSignOn" value="False" />
    <add key="Meanstream.Support" value="support@misonline.biz" />
    <add key="Meanstream.EnableMessaging" value="true" />
    <add key="Meanstream.Tracing.MaximumRequests" value="2" />
    <add key="Meanstream.EnableCaching" value="True" />
    <add key="Meanstream.PageCacheExpiration" value="24" />
    <add key="Meanstream.ExportPath" value="~/Portals/Common/Exports/" />
    <add key="Meanstream.EnableWorkflow" value="False" />
    <add key="Meanstream.ErrorPage" value="~/ErrorPage.htm" />
    <add key="Meanstream.Controller" value="~/Default.aspx" />
    <add key="Meanstream.IsMVC" value="true" />
    
    <add key="wkhtmltopdf" value="C:\\Program Files\\wkhtmltopdf\\bin\\wkhtmltopdf.exe" />
    <add key="tearsheet_dir" value="~/portals/0/documents/tearsheets/" />
  
    <add key="REVStack.AppId" value="5b52bdfb-0ab5-4958-a9ed-25cde4d526a3" />
    <add key="REVStack.Username" value="host" />
    <add key="REVStack.Password" value="host" />
  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime targetFramework="4.5" maxRequestLength="2097151" executionTimeout="7200" requestValidationMode="2.0" />

    <customErrors mode="Off" />
    <machineKey validation="SHA1" />
    <anonymousIdentification enabled="true" />
    <authentication mode="Forms">
      <forms name=".ASPXAUTH" defaultUrl="~/" loginUrl="~/Login.aspx" enableCrossAppRedirects="true" protection="All" timeout="525600" path="/" requireSSL="false" slidingExpiration="true" cookieless="UseDeviceProfile" />
    </authentication>

    <roleManager enabled="true" cacheRolesInCookie="false" cookieName=".ASPXROLES" cookieTimeout="30" cookiePath="/" cookieRequireSSL="false" cookieSlidingExpiration="true" cookieProtection="All" defaultProvider="AspNetSqlRoleProvider" createPersistentCookie="false" maxCachedResults="25">
      <providers>
        <clear />
        <add connectionStringName="Meanstream" applicationName="/meanstream" name="AspNetSqlRoleProvider" type="Meanstream.Portal.Providers.AspNetMembershipProvider.SqlRoleProvider" />
        <add applicationName="/meanstream" name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider, System.Web,&#xA;       Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
      </providers>
    </roleManager>
    <membership defaultProvider="AspNetSqlMembershipProvider" userIsOnlineTimeWindow="10" hashAlgorithmType="SHA1">
      <providers>
        <clear />
        <add name="AspNetSqlMembershipProvider" type="Meanstream.Portal.Providers.AspNetMembershipProvider.SqlMembershipProvider" connectionStringName="Meanstream" applicationName="/meanstream" requiresQuestionAndAnswer="false" requiresUniqueEmail="true" passwordFormat="Hashed" minRequiredNonalphanumericCharacters="0" minRequiredPasswordLength="3" />
      </providers>
    </membership>

    <profile enabled="true" inherits="Meanstream.Portal.Core.Membership.UserProfile" defaultProvider="AspNetSqlProfileProvider" automaticSaveEnabled="true">
      <providers>
        <clear />
        <add connectionStringName="Meanstream" applicationName="/meanstream" name="AspNetSqlProfileProvider" type="Meanstream.Portal.Providers.AspNetMembershipProvider.SqlProfileProvider" />
      </providers>
      <properties>
        <add name="FirstName" type="System.String" />
        <add name="LastName" type="System.String" />
        <add name="DisplayName" type="string" allowAnonymous="true" />
        <add name="Website" type="System.String" />
        <add name="City" type="System.String" />
        <add name="AboutMe" type="System.String" />
        <add name="Portrait" type="System.String" />
        <add name="Facebook" type="System.String" />
      </properties>
    </profile>

    <siteMap enabled="true" defaultProvider="IndexedSiteMapProvider">
      <providers>
        <add name="SqlSiteMapProvider" type="Meanstream.Portal.Providers.PortalSiteMapProvider.SqlSiteMapProvider" securityTrimmingEnabled="false" connectionStringName="Meanstream" tableName="meanstream_Page" cacheEnabled="false" cacheKey="SqlSiteMapProvider_Cache" />
        <add name="IndexedSiteMapProvider" type="Meanstream.Portal.Providers.PortalSiteMapProvider.IndexedSiteMapProvider" securityTrimmingEnabled="false" cacheEnabled="false" cacheKey="IndexedSiteMapProvider_Cache" />
      </providers>
    </siteMap>

    <pages validateRequest="false">
      <controls>
        <add tagPrefix="Meanstream" namespace="Meanstream.Web.UI" assembly="Meanstream.Web.UI" />
      </controls>
    </pages>

    <httpHandlers>
      <add name="CuteEditor.UploadModule" type="CuteEditor.UploadModule,CuteEditor" />
    </httpHandlers>

    <webServices>
      <protocols>
        <add name="HttpGet" />
        <add name="HttpPost" />
      </protocols>
    </webServices>
  </system.web>

  <system.web.extensions>
    <scripting>
      <webServices>
        <jsonSerialization maxJsonLength="2147483644" />
      </webServices>
    </scripting>
  </system.web.extensions>
  
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <modules runAllManagedModulesForAllRequests="true">
      <remove name="FormsAuthenticationModule" />
      <add name="PortalContext" type="Meanstream.Portal.HttpModules.PortalContextModule" />
      <add name="PortalErrorHandler" type="Meanstream.Portal.HttpModules.PortalErrorHandlerModule" />
      <add name="CuteEditor.UploadModule" type="CuteEditor.UploadModule,CuteEditor" />
    </modules>
    <handlers>
      <add name="PortalSiteMapHandler" verb="*" path="sitemap.ashx" type="Meanstream.Portal.HttpHandlers.PortalSiteMapHandler,Meanstream.Portal" />
      <!--<add name="SingleSignOnHandler" verb="*" path="SingleSignOn.ashx" type="Meanstream.Portal.HttpHandlers.SingleSignOnHandler,Meanstream.Portal" />-->
    </handlers>
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="1004857600" />
      </requestFiltering>
    </security>
    <defaultDocument enabled="true">
      <files>
        <clear />
        <add value="index.html" />
        <add value="index.htm" />
        <add value="Default.htm" />
        <add value="Default.asp" />
        <add value="iisstart.htm" />
        <add value="default.aspx" />
      </files>
    </defaultDocument>
  </system.webServer>

  <system.diagnostics>
    <switches>
      <add name="PortalSwitch" value="False" />
      <add name="PortalTraceLevel" value="1" />
    </switches>
    <trace autoflush="true" indentsize="2">
      <listeners>
        <add type="Meanstream.Portal.Core.Instrumentation.PortalTraceListener, Meanstream.Portal" name="PortalTraceListener">
          <filter type="" />
        </add>
      </listeners>
    </trace>
  </system.diagnostics>

  <location path="Meanstream" allowOverride="false">
    <system.web>
      <authorization>
        <allow roles="Administrator,Content Administrator,Security Administrator,Host" />
        <deny users="*" />
      </authorization>
    </system.web>
  </location>

  <location path="Meanstream/UI/Scripts/upload/upload.aspx">
    <system.web>
      <authorization>
        <allow users="?" />
      </authorization>
    </system.web>
  </location>

  <portalException>
    <logging enabled="false" />
    <errorPage type="BuiltIn" showHTMLErrorMessage="true" path="~/ErrorPage.aspx" />
    <notification enabled="false" to="dev@misonline.biz" priority="High" subject="Error in Meanstream Application" from="support@misonline.biz" />
  </portalException>
  <meanstreamCoreService defaultProvider="MeanstreamCoreProvider">
    <providers>
      <add name="MeanstreamCoreProvider" type="Meanstream.Portal.Core.Data.SqlClient.SqlNetTiersProvider,Meanstream.Portal.Core.Data.SqlClient" useStoredProcedure="false" connectionStringName="Meanstream" applicationName="meanstream" providerInvariantName="System.Data.SqlClient" />
    </providers>
  </meanstreamCoreService>

  <dataConfiguration defaultDatabase="Meanstream" />
  
  
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-5.0.0.0" newVersion="5.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <!--<entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="v11.0" />
      </parameters>
    </defaultConnectionFactory>
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>-->
</configuration>